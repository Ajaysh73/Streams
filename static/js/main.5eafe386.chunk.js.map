{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","actions/types.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/streams/StreamEdit.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamList.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["axios","create","baseURL","createBrowserHistory","fetchStream","id","dispatch","a","streams","get","response","type","payload","data","StreamForm","renderInput","input","label","meta","className","error","touched","autoComplete","renderError","onSubmit","formValues","props","this","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","connect","getState","userId","auth","post","history","push","StreamEdit","editStream","match","params","console","log","initialValues","stream","_","pick","state","ownProps","patch","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","deleteStream","to","renderContent","renderActions","delete","StreamList","fetchStreams","currentUserId","map","key","renderAdmin","isSignedIn","style","textAlign","renderList","renderCreate","Object","values","StreamShow","videoRef","createRef","buildPlayer","player","flv","createPlayer","url","attachMediaElement","current","load","ref","width","controls","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignIn","onSignOut","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","App","path","exact","INITIAL_STATE","combineReducers","action","formReducer","mapKeys","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.5eafe386.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n\tbaseURL: 'http://localhost:3001',\r\n});\r\n","import {createBrowserHistory} from 'history';\r\n\r\nexport default createBrowserHistory();\r\n","import streams from '../apis/streams';\r\nimport history from '../history';\r\nimport {\r\n\tSIGN_IN,\r\n\tSIGN_OUT,\r\n\tCREATE_STREAM,\r\n\tFETCH_STREAMS,\r\n\tFETCH_STREAM,\r\n\tDELETE_STREAM,\r\n\tEDIT_STREAM,\r\n} from './types';\r\nexport const signIn = (userId) => {\r\n\treturn {\r\n\t\ttype: SIGN_IN,\r\n\t\tpayload: userId,\r\n\t};\r\n};\r\n\r\nexport const signOut = () => {\r\n\treturn {\r\n\t\ttype: SIGN_OUT,\r\n\t};\r\n};\r\n\r\nexport const createStream = (formValues) => async (dispatch, getState) => {\r\n\tconst { userId } = getState().auth;\r\n\tconst response = await streams.post('/streams', { ...formValues, userId });\r\n\tdispatch({ type: CREATE_STREAM, payload: response.data });\r\n\thistory.push('/');\r\n};\r\n\r\nexport const fetchStreams = () => async (dispatch) => {\r\n\tconst response = await streams.get('/streams');\r\n\tdispatch({ type: FETCH_STREAMS, payload: response.data });\r\n};\r\n\r\nexport const fetchStream = (id) => async (dispatch) => {\r\n\tconst response = await streams.get(`/streams/${id}`);\r\n\tdispatch({ type: FETCH_STREAM, payload: response.data });\r\n};\r\nexport const editStream = (id, formValues) => async (dispatch) => {\r\n\tconst response = await streams.patch(`/streams/${id}`, formValues);\r\n\tdispatch({ type: EDIT_STREAM, payload: response.data });\r\n\thistory.push('/');\r\n};\r\nexport const deleteStream = (id) => async (dispatch) => {\r\n\tawait streams.delete(`/streams/${id}`);\r\n\tdispatch({ type: DELETE_STREAM, payload: id });\r\n\thistory.push('/');\r\n};\r\n","export const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\nexport const CREATE_STREAM = 'CREATE_STREAM';\r\nexport const FETCH_STREAMS = 'FETCH_STREAMS';\r\nexport const FETCH_STREAM = 'FETCH_STREAM';\r\nexport const DELETE_STREAM = 'DELETE_STREAM';\r\nexport const EDIT_STREAM = 'EDIT_STREAM';","import React from 'react';\r\nimport { Field, reduxForm, } from 'redux-form';\r\n\r\nclass StreamForm extends React.Component {\r\n\trenderError({ error, touched }) {\r\n\t\tif (touched && error) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className='ui error message'>\r\n\t\t\t\t\t<div className='header'>{error}</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trenderInput = ({ input, label, meta }) => {\r\n\t\tconst className = `field ${meta.error && meta.touched ? 'error' : ''}`;\r\n\t\treturn (\r\n\t\t\t<div className={className}>\r\n\t\t\t\t<label>{label}</label>\r\n\t\t\t\t<input {...input} autoComplete='off' />\r\n\t\t\t\t{this.renderError(meta)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\tonSubmit = (formValues) => {\r\n\t\tthis.props.onSubmit(formValues);\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={this.props.handleSubmit(this.onSubmit)}\r\n\t\t\t\tclassName='ui form error'\r\n\t\t\t>\r\n\t\t\t\t<Field\r\n\t\t\t\t\tname='title'\r\n\t\t\t\t\tcomponent={this.renderInput}\r\n\t\t\t\t\tlabel='Enter the title'\r\n\t\t\t\t/>\r\n\t\t\t\t<Field\r\n\t\t\t\t\tname='description'\r\n\t\t\t\t\tcomponent={this.renderInput}\r\n\t\t\t\t\tlabel='Enter the description'\r\n\t\t\t\t/>\r\n\t\t\t\t<button className='ui button primary'>Submit</button>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst validate = (formValues) => {\r\n\tconst errors = {};\r\n\tif (!formValues.title) {\r\n\t\terrors.title = 'You must enter a title';\r\n\t}\r\n\tif (!formValues.description) {\r\n\t\terrors.description = 'You must enter a title';\r\n\t}\r\n\treturn errors;\r\n};\r\n\r\nexport default reduxForm({\r\n\tform: 'streamForm',\r\n\tvalidate: validate,\r\n})(StreamForm);\r\n\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStream } from '../../actions';\r\nimport StreamForm from './StreamForm';\r\n\r\nclass StreamCreate extends React.Component {\r\n\tonSubmit = (formValues) => {\r\n\t\tthis.props.createStream(formValues);\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h3> Create a Stream</h3>\r\n\t\t\t\t<StreamForm onSubmit={this.onSubmit} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(null, {createStream})(StreamCreate);\r\n","import React from 'react';\r\nimport _ from 'lodash';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream, editStream } from '../../actions';\r\nimport StreamForm from './StreamForm';\r\n\r\nclass StreamEdit extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tconsole.log('component did mount');\r\n\t\tthis.props.fetchStream(this.props.match.params.id);\r\n\t}\r\n\r\n\tonSubmit = (formValues) => {\r\n\t\tthis.props.editStream(this.props.match.params.id, formValues);\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h3> Edit a Stream</h3>\r\n\t\t\t\t<StreamForm\r\n\t\t\t\t\tinitialValues={\r\n\t\t\t\t\t\tthis.props.stream &&\r\n\t\t\t\t\t\t_.pick(this.props.stream, 'title', 'description')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonSubmit={this.onSubmit}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\treturn { stream: state.streams[ownProps.match.params.id] };\r\n};\r\nexport default connect(mapStateToProps, { fetchStream, editStream })(\r\n\tStreamEdit\r\n);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\n\r\nconst Modal = (props) => {\r\n\treturn ReactDOM.createPortal(\r\n\t\t<div\r\n\t\t\tonClick={props.onDismiss}\r\n\t\t\tclassName='ui dimmer modals visible active'\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tonClick={(e) => e.stopPropagation()}\r\n\t\t\t\tclassName='ui standard modal visible active'\r\n\t\t\t>\r\n\t\t\t\t<div className='header'>{props.title}</div>\r\n\t\t\t\t<div className='content'>\r\n\t\t\t\t\t{props.content}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='actions'>\r\n\t\t\t\t\t{props.actions}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>,\r\n\t\tdocument.querySelector('#modal')\r\n\t);\r\n};\r\nexport default Modal;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport Modal from '../Modal';\r\nimport history from '../../history';\r\nimport { fetchStream, deleteStream } from '../../actions';\r\n\r\nclass StreamDelete extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.fetchStream(this.props.match.params.id);\r\n\t\t// console.log(this.props.stream);\r\n\t}\r\n\trenderActions() {\r\n        const {id} = this.props.match.params;\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button onClick = {()=> this.props.deleteStream(id)} className='ui button negative'>Delete</button>\r\n\t\t\t\t\t<Link to =\"/\" className='ui button'>Cancel</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\trenderContent() {\r\n\t\tif (!this.props.stream) {\r\n\t\t\treturn 'Are you sure you want to delete this stream?';\r\n\t\t}\r\n\t\treturn `Are you sure you want to delete the strea, with title ${this.props.stream.title}`;\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tStreamDelete\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle='Delete Stream'\r\n\t\t\t\t\tcontent={this.renderContent()}\r\n\t\t\t\t\tactions={this.renderActions()}\r\n\t\t\t\t\tonDismiss={() => history.push('/')}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\treturn { stream: state.streams[ownProps.match.params.id] };\r\n};\r\nexport default connect(mapStateToProps, { fetchStream, deleteStream })(\r\n\tStreamDelete\r\n);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchStreams } from '../../actions';\r\n\r\nclass StreamList extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.fetchStreams();\r\n\t}\r\n\trenderAdmin(stream) {\r\n\t\tif (stream.userId === this.props.currentUserId) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className='right floated content'>\r\n\t\t\t\t\t<Link to={`/streams/edit/${stream.id}`} className='ui button primary'>\r\n\t\t\t\t\t\tEdit\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={`/streams/delete/${stream.id}`}\r\n\t\t\t\t\t\tclassName='ui button negative'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trenderList() {\r\n\t\treturn this.props.streams.map((stream) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div className='item' key={stream.id}>\r\n\t\t\t\t\t{this.renderAdmin(stream)}\r\n\t\t\t\t\t<i className='large middle aligned icon camera' />\r\n\t\t\t\t\t<div className='content'>\r\n\t\t\t\t\t\t<Link to={`/streams/${stream.id}`}>\r\n\t\t\t\t\t\t\t<h4>{stream.title}</h4>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<div className='description'>{stream.description}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\trenderCreate() {\r\n\t\tif (this.props.isSignedIn) {\r\n\t\t\treturn (\r\n\t\t\t\t<div style={{ textAlign: 'right' }}>\r\n\t\t\t\t\t<Link to='/streams/new' className='ui button primary'>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\tCreate Stream\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2> Streams</h2>\r\n\t\t\t\t<div className='ui celled list'>{this.renderList()}</div>\r\n\t\t\t\t{this.renderCreate()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tstreams: Object.values(state.streams),\r\n\t\tcurrentUserId: state.auth.userId,\r\n\t\tisSignedIn: state.auth.isSignedIn,\r\n\t};\r\n};\r\nexport default connect(mapStateToProps, { fetchStreams })(StreamList);\r\n","import React from 'react';\r\nimport flv from 'flv.js';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream } from '../../actions';\r\n\r\nclass StreamShow extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.videoRef = React.createRef();\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst { id } = this.props.match.params;\r\n\t\tthis.props.fetchStream(id);\r\n\t\tthis.buildPlayer();\r\n    }\r\n    componentDidUpdate(){\r\n        this.buildPlayer();\r\n    }\r\n\tbuildPlayer() {\r\n        \r\n        const { id } = this.props.match.params;\r\n\t\tif (this.player || !this.props.stream) {\r\n\t\t\treturn;\r\n        }\r\n        this.player = flv.createPlayer({\r\n\t\t\ttype: 'flv',\r\n\t\t\turl: `http://localhost:8000/live/${id}.flv`,\r\n\t\t});\r\n\t\tthis.player.attachMediaElement(this.videoRef.current);\r\n\t\tthis.player.load();\r\n\t}\r\n\trender() {\r\n\t\tif (!this.props.stream) {\r\n\t\t\treturn <div>Loading..</div>;\r\n\t\t}\r\n\t\tconst { title, description } = this.props.stream;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<video ref={this.videoRef} style={{ width: '100%' }} controls />\r\n\t\t\t\t<h1> {title} </h1>\r\n\t\t\t\t<h5> {description} </h5>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\treturn { stream: state.streams[ownProps.match.params.id] };\r\n};\r\nexport default connect(mapStateToProps, { fetchStream })(StreamShow);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { signIn, signOut } from '../actions';\r\n\r\nclass GoogleAuth extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\twindow.gapi.load('client:auth2', () => {\r\n\t\t\twindow.gapi.client\r\n\t\t\t\t.init({\r\n\t\t\t\t\tclientId:\r\n\t\t\t\t\t\t'226971731321-5q1u6mg44ar6hohm6kqiqamb2gl7jtc6.apps.googleusercontent.com',\r\n\t\t\t\t\tscope: 'email',\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.auth = window.gapi.auth2.getAuthInstance();\r\n\t\t\t\t\tthis.onAuthChange(this.auth.isSignedIn.get());\r\n\t\t\t\t\tthis.auth.isSignedIn.listen(this.onAuthChange);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tonAuthChange = (isSignedIn) => {\r\n\t\tif (isSignedIn) {\r\n\t\t\tthis.props.signIn(this.auth.currentUser.get().getId());\r\n\t\t} else {\r\n\t\t\tthis.props.signOut();\r\n\t\t}\r\n\t};\r\n\r\n\tonSignIn = () => {\r\n\t\tthis.auth.signIn();\r\n\t};\r\n\r\n\tonSignOut = () => {\r\n\t\tthis.auth.signOut();\r\n\t};\r\n\trenderAuthButton() {\r\n\t\tif (this.props.isSignedIn === null) {\r\n\t\t\treturn null;\r\n\t\t} else if (this.props.isSignedIn) {\r\n\t\t\tconsole.log('Signed in already');\r\n\t\t\treturn (\r\n\t\t\t\t<button onClick={this.onSignOut} className='ui red google button'>\r\n\t\t\t\t\t<i className='google icon' />\r\n\t\t\t\t\tSign out\r\n\t\t\t\t</button>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconsole.log('Signed out already');\r\n\t\t\treturn (\r\n\t\t\t\t<button onClick={this.onSignIn} className='ui red google button'>\r\n\t\t\t\t\t<i className='google icon' />\r\n\t\t\t\t\tSign In with Google\r\n\t\t\t\t</button>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn <div>{this.renderAuthButton()}</div>;\r\n\t}\r\n}\r\nconst mapStateToProps = (state) => {\r\n\treturn { isSignedIn: state.auth.isSignedIn };\r\n};\r\nexport default connect(mapStateToProps, { signIn, signOut })(GoogleAuth);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport GoogleAuth from './GoogleAuth';\r\n\r\nconst Header = () => {\r\n\treturn (\r\n\t\t<div className='ui secondary pointing menu'>\r\n\t\t\t<Link to='/' className='item'>\r\n\t\t\t\tStreamy\r\n\t\t\t</Link>\r\n\t\t\t<div className='right menu'>\r\n\t\t\t\t<Link to='/' className='item'>\r\n\t\t\t\t\tAll Streams\r\n\t\t\t\t</Link>\r\n                <GoogleAuth />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport StreamCreate from './streams/StreamCreate';\r\nimport StreamEdit from './streams/StreamEdit';\r\nimport StreamDelete from './streams/StreamDelete';\r\nimport StreamList from './streams/StreamList';\r\nimport StreamShow from './streams/StreamShow';\r\nimport Header from './Header'\r\nimport history from '../history';\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<div className=\"ui container\">\r\n\t\t\t<Router history={history}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path='/' exact component={StreamList}></Route>\r\n\t\t\t\t\t<Route path='/streams/new' exact component={StreamCreate}></Route>\r\n\t\t\t\t\t<Route path='/streams/edit/:id' exact component={StreamEdit}></Route>\r\n\t\t\t\t\t<Route path='/streams/delete/:id' exact component={StreamDelete}></Route>\r\n\t\t\t\t\t<Route path='/streams/:id' exact component={StreamShow}></Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</Router>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default App;\r\n","import {SIGN_IN, SIGN_OUT} from '../actions/types';\r\nconst INITIAL_STATE = {\r\n\tisSignedIn: null,\r\n\tuserId: null\r\n  };\r\nexport default (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SIGN_IN:\r\n            return { ...state, isSignedIn: true, userId: action.payload };\r\n\t\tcase SIGN_OUT:\r\n\t\t\treturn { ...state, isSignedIn: false, userId : null };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport authReducer from './authReducer';\r\nimport streamReducer from './streamReducer';\r\nexport default combineReducers({\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tstreams: streamReducer\r\n});\r\n","import _ from 'lodash';\r\nimport {\r\n\tCREATE_STREAM,\r\n\tFETCH_STREAMS,\r\n\tFETCH_STREAM,\r\n\tDELETE_STREAM,\r\n\tEDIT_STREAM,\r\n} from '../actions/types';\r\n\r\nexport default (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FETCH_STREAMS:\r\n\t\t\treturn { ...state, ..._.mapKeys(action.payload, 'id') };\r\n\t\tcase FETCH_STREAM:\r\n\t\t\treturn { ...state, [action.payload.id]: action.payload };\r\n\t\tcase CREATE_STREAM:\r\n\t\t\treturn { ...state, [action.payload.id]: action.payload };\r\n\t\tcase EDIT_STREAM:\r\n\t\t\treturn { ...state, [action.payload.id]: action.payload };\r\n\t\tcase DELETE_STREAM:\r\n\t\t\treturn _.omit(state, action.payload);\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n// import reduxThunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector('#root')\r\n);"],"sourceRoot":""}